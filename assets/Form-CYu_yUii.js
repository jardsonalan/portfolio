import{d as _,r as R,o as f,j as g,h as b,c as H,a as n,k as h,l as w}from"./index-CqzS9pMG.js";const y=_({__name:"AlertCard",props:{text:String,title:String},setup(e){return(t,s)=>{const o=R("VAlert");return f(),g(o,{text:e.text,title:e.title,class:"mb-4"},null,8,["text","title"])}}});class p{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const F=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},i={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:F()},k=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},B=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=k(e);i.publicKey=s.publicKey,i.blockHeadless=s.blockHeadless,i.storageProvider=s.storageProvider,i.blockList=s.blockList,i.limitRate=s.limitRate,i.origin=s.origin||t},x=async(e,t,s={})=>{const o=await fetch(i.origin+e,{method:"POST",headers:s,body:t}),a=await o.text(),c=new p(o.status,a);if(o.ok)return c;throw c},P=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},K=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},T=e=>e.webdriver||!e.languages||e.languages.length===0,j=()=>new p(451,"Unavailable For Headless Browser"),O=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},D=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},q=(e,t)=>e instanceof FormData?e.get(t):e[t],L=(e,t)=>{if(D(e))return!1;O(e.list,e.watchVariable);const s=q(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},E=()=>new p(403,"Forbidden"),A=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},M=async(e,t,s)=>{const o=Number(await s.get(e)||0);return t-Date.now()+o},S=async(e,t,s)=>{if(!t.throttle||!s)return!1;A(t.throttle,t.id);const o=t.id||e;return await M(o,t.throttle,s)>0?!0:(await s.set(o,Date.now().toString()),!1)},V=()=>new p(429,"Too Many Requests"),N=async(e,t,s,o)=>{const a=k(o),c=a.publicKey||i.publicKey,v=a.blockHeadless||i.blockHeadless,u=a.storageProvider||i.storageProvider,r={...i.blockList,...a.blockList},l={...i.limitRate,...a.limitRate};return v&&T(navigator)?Promise.reject(j()):(P(c,e,t),K(s),s&&L(r,s)?Promise.reject(E()):await S(location.pathname,l,u)?Promise.reject(V()):x("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},C=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},I=e=>typeof e=="string"?document.querySelector(e):e,U=async(e,t,s,o)=>{const a=k(o),c=a.publicKey||i.publicKey,v=a.blockHeadless||i.blockHeadless,u=i.storageProvider||a.storageProvider,r={...i.blockList,...a.blockList},l={...i.limitRate,...a.limitRate};if(v&&T(navigator))return Promise.reject(j());const m=I(s);P(c,e,t),C(m);const d=new FormData(m);return L(r,d)?Promise.reject(E()):await S(location.pathname,l,u)?Promise.reject(V()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",c),x("/api/v1.0/email/send-form",d))},J={init:B,send:N,sendForm:U,EmailJSResponseStatus:p},W={class:"h-screen overflow-y-auto pa-4"},$={class:"mt-5"},z={class:"container-text"},G={class:"container-text"},Q={class:"container-text"},X=_({__name:"Form",setup(e){const t=b(""),s=b(""),o=b(""),a=b(""),c=u=>/^[^\s]+@[^\s]+\.[^\s]+$/.test(u);function v(u){u.preventDefault();const r=c(s.value);if(t.value==""||s.value==""||o.value==""||r==!1){a.value="Erro",setTimeout(()=>{a.value="",t.value="",s.value="",o.value=""},3500);return}const l={from_name:t.value,message:o.value,email:s.value};J.send("service_ipy1glf","template_n82o15d",l,"73I6jLdH7Fq7WiDwh").then(m=>{console.log("E-mail enviado",m.status,m.text),a.value=m.text,setTimeout(()=>{a.value="",t.value="",s.value="",o.value=""},3500)},m=>{console.log("Erro: ",m),a.value=m,setTimeout(()=>{a.value="",t.value="",s.value="",o.value=""},3500)})}return(u,r)=>(f(),H("div",W,[n("div",$,[r[7]||(r[7]=n("h1",{class:"text-center"},"Contato",-1)),n("form",{onSubmit:v,class:"mx-auto w-77 w-md-50 w-lg-50 pa-4 border-rounded"},[a.value===""?(f(),g(y,{key:0,class:"d-none"})):a.value==="OK"?(f(),g(y,{key:1,title:"Enviado com sucesso",text:"Logo estarei respondendo!",type:"success"})):(f(),g(y,{key:2,title:"Envio mal sucedido",text:"Algo deu errado!",type:"error"})),n("div",z,[r[3]||(r[3]=n("label",{class:"font-weight-medium",for:"name"},"Nome",-1)),h(n("input",{"onUpdate:modelValue":r[0]||(r[0]=l=>t.value=l),class:"w-100 border-md",type:"text",name:"name",id:"name",placeholder:"Informe seu nome"},null,512),[[w,t.value]])]),n("div",G,[r[4]||(r[4]=n("label",{class:"font-weight-medium",for:"email"},"E-mail",-1)),h(n("input",{"onUpdate:modelValue":r[1]||(r[1]=l=>s.value=l),class:"w-100 border-md",type:"email",name:"email",id:"email",placeholder:"Informe seu e-mail"},null,512),[[w,s.value]])]),n("div",Q,[r[5]||(r[5]=n("label",{class:"font-weight-medium",for:"message"},"Mensagem",-1)),h(n("textarea",{"onUpdate:modelValue":r[2]||(r[2]=l=>o.value=l),class:"w-100 border-md",name:"message",id:"message",placeholder:"Digite sua mensagem",rows:"8"},null,512),[[w,o.value]])]),r[6]||(r[6]=n("input",{class:"mt-7 w-100 bg-green font-weight-bold",type:"submit",value:"Enviar"},null,-1))],32)])]))}}),Y=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s},ee=Y(X,[["__scopeId","data-v-8229d3a2"]]);export{ee as default};
